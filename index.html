<!doctype html>
<html lang="de">
  <head>
    <!-- Cookiebot Banner - Robuste Implementierung -->
    <script>
      // Cookiebot Konfiguration
      window.cookiebotConfig = {
        cbid: '5672dad7-bf17-49bd-b39f-9946569f7734',
        blockingmode: 'auto',
        culture: 'DE'
      };
      
      // Dynamisches Laden des Cookiebot Scripts
      function loadCookiebot() {
        console.log('üîÑ Lade Cookiebot Script...');
        
        var script = document.createElement('script');
        script.id = 'CookiebotDynamic';
        script.src = 'https://consent.cookiebot.com/uc.js';
        script.setAttribute('data-cbid', window.cookiebotConfig.cbid);
        script.setAttribute('data-blockingmode', window.cookiebotConfig.blockingmode);
        script.setAttribute('data-culture', window.cookiebotConfig.culture);
        script.type = 'text/javascript';
        
        script.onload = function() {
          console.log('‚úÖ Cookiebot Script geladen');
          waitForCookiebot();
        };
        
        script.onerror = function() {
          console.error('‚ùå Fehler beim Laden des Cookiebot Scripts');
          createFallbackCookiebot();
        };
        
        document.head.appendChild(script);
      }
      
      // Warten auf Cookiebot Objekt
      function waitForCookiebot() {
        var attempts = 0;
        var maxAttempts = 20; // 10 Sekunden (20 x 500ms)
        
        var checkInterval = setInterval(function() {
          attempts++;
          console.log('üîÑ Warte auf Cookiebot... Versuch ' + attempts);
          
          if (window.Cookiebot) {
            console.log('‚úÖ Cookiebot Objekt gefunden!');
            clearInterval(checkInterval);
            initializeCookiebot();
          } else if (attempts >= maxAttempts) {
            console.log('‚ùå Cookiebot nicht gefunden nach ' + maxAttempts + ' Versuchen');
            clearInterval(checkInterval);
            createFallbackCookiebot();
          }
        }, 500);
      }
      
      // Cookiebot initialisieren
      function initializeCookiebot() {
        try {
          console.log('üöÄ Initialisiere Cookiebot...');
          console.log('Cookiebot Objekt:', window.Cookiebot);
          console.log('Cookiebot Methoden:', Object.getOwnPropertyNames(window.Cookiebot));
          
          // Banner anzeigen
          if (typeof window.Cookiebot.show === 'function') {
            window.Cookiebot.show();
            console.log('‚úÖ Cookiebot Banner angezeigt');
          } else {
            console.log('‚ùå Cookiebot.show nicht verf√ºgbar');
          }
        } catch (error) {
          console.error('‚ùå Fehler bei Cookiebot Initialisierung:', error);
          createFallbackCookiebot();
        }
      }
      
      // Fallback Cookiebot erstellen
      function createFallbackCookiebot() {
        console.log('üîß Erstelle Fallback Cookiebot...');
        window.Cookiebot = {
          consent: {
            necessary: true,
            preferences: false,
            statistics: false,
            marketing: false,
            method: 'implied'
          },
          hasResponse: true,
          show: function() {
            console.log('üç™ Fallback Cookie Banner angezeigt');
            alert('üç™ Cookie Banner (Fallback)\n\nCookiebot konnte nicht geladen werden.\nBitte pr√ºfen Sie:\n1. Internetverbindung\n2. AdBlocker-Einstellungen\n3. Browser-Erweiterungen');
          }
        };
        console.log('‚úÖ Fallback Cookiebot erstellt');
      }
      
      // Cookiebot laden wenn DOM bereit ist
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadCookiebot);
      } else {
        loadCookiebot();
      }
    </script>
    
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Martic Solutions - KI-Automatisierung f√ºr Unternehmen | Kostenlose Erstberatung</title>

    <!-- ‚úÖ Meta Description -->
    <meta name="description" content="KI-Automatisierung f√ºr Unternehmen: Sparen Sie Zeit mit n8n-Workflows & intelligenten Prozessen. Kostenlose Erstberatung ‚úì Individuelle L√∂sungen ‚úì Sofort starten" />
    <meta property="og:image" content="https://marticsolutions.de/images/logoicon.png" />

    <!-- ‚úÖ Favicon (optimiert f√ºr Google Search) -->
    <link rel="icon" type="image/x-icon" href="/images/favicon/favicon.ico" />
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png" />
    <link rel="apple-touch-icon" href="/images/favicon/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/images/favicon/android-chrome-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/images/favicon/android-chrome-512x512.png" />
    <link rel="manifest" href="/images/favicon/site.webmanifest" />

    <!-- ‚úÖ OpenGraph f√ºr Social Media -->
    <meta property="og:title" content="Martic Solutions - KI-Automatisierung f√ºr Unternehmen | Kostenlose Beratung" />
    <meta property="og:description" content="KI-Automatisierung f√ºr Unternehmen: Sparen Sie Zeit mit n8n-Workflows & intelligenten Prozessen. Kostenlose Erstberatung ‚úì" />
    <meta property="og:image" content="https://marticsolutions.de/images/logoicon.png" />
    <meta property="og:url" content="https://marticsolutions.de" />
    <meta property="og:type" content="website" />

    <!-- ‚úÖ Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Martic Solutions - KI-Automatisierung f√ºr Unternehmen" />
    <meta name="twitter:description" content="KI-Automatisierung f√ºr Unternehmen: Sparen Sie Zeit mit n8n-Workflows & intelligenten Prozessen. Kostenlose Erstberatung ‚úì" />
    <meta name="twitter:image" content="https://marticsolutions.de/images/logoicon.png" />

    <!-- ‚úÖ Canonical Link -->
    <link rel="canonical" href="https://marticsolutions.de" />

    <!-- ‚úÖ Robots -->
    <meta name="robots" content="index, follow" />
    
    <!-- ‚úÖ Additional SEO Meta Tags -->
    <meta name="keywords" content="KI-Automatisierung, Unternehmen, Prozessautomatisierung, Digitalisierung, n8n Workflows, K√ºnstliche Intelligenz, Martic Solutions, Zeitersparnis, Workflow-Automatisierung, Business Automation, KI-L√∂sungen, Automatisierung Software, Deutschland, kostenlose Beratung, gratis Erstberatung, Automatisierung Beratung" />
    <meta name="author" content="Martic Solutions" />
    <meta name="language" content="de" />
    <meta name="geo.region" content="DE" />
    <meta name="geo.placename" content="Deutschland" />
    <meta name="geo.position" content="51.1657;10.4515" />
    <meta name="ICBM" content="51.1657, 10.4515" />
    
    <!-- ‚úÖ Google Search Console Verification -->
    <meta name="google-site-verification" content="YOUR_VERIFICATION_CODE" />
    
    <!-- ‚úÖ Bing Webmaster Tools -->
    <meta name="msvalidate.01" content="YOUR_BING_VERIFICATION_CODE" />
    
    <!-- ‚úÖ Performance & SEO -->
    <meta name="theme-color" content="#000000" />
    <meta name="msapplication-TileColor" content="#000000" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="Martic Solutions" />
    
    <!-- ‚úÖ Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Martic Solutions",
      "url": "https://marticsolutions.de",
      "logo": "https://marticsolutions.de/images/logoicon.png",
             "description": "Professionelle KI-L√∂sungen und Automatisierungssoftware f√ºr Unternehmen. Spezialisiert auf n8n-Workflows, Digitalisierung und intelligente Gesch√§ftsprozesse.",
      "foundingDate": "2024",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "DE",
        "addressRegion": "Deutschland"
      },
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "customer service",
        "availableLanguage": "German",
        "areaServed": "DE"
      },
      "sameAs": [
        "https://marticsolutions.de"
      ],
      "service": [
                 {
           "@type": "Service",
           "name": "KI-Automatisierung f√ºr Unternehmen",
           "description": "Individuelle KI-gest√ºtzte Softwarel√∂sungen, Workflow-Automatisierung mit n8n, Digitalisierung von Gesch√§ftsprozessen",
          "provider": {
            "@type": "Organization",
            "name": "Martic Solutions"
          },
          "areaServed": "DE",
          "serviceType": "Software Development, AI Solutions, Business Automation",
          "category": "Business Services"
        },
        {
          "@type": "Service",
          "name": "n8n Workflow-Automatisierung",
          "description": "Professionelle n8n-Workflows f√ºr die Automatisierung von Gesch√§ftsprozessen",
          "provider": {
            "@type": "Organization",
            "name": "Martic Solutions"
          },
          "areaServed": "DE",
          "serviceType": "Workflow Automation",
          "category": "Business Services"
        }
      ],
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Automatisierungsl√∂sungen",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Prozess-Analyse & Beratung"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Individuelle KI-Automatisierung"
            }
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Betreuung & Optimierung"
            }
          }
        ]
      }
    }
    </script>
    
    <!-- ‚úÖ Local Business Schema -->
    <script type="application/ld+json">
         {
       "@context": "https://schema.org",
       "@type": "LocalBusiness",
       "name": "Martic Solutions",
       "description": "KI-Automatisierung f√ºr Unternehmen",
      "url": "https://marticsolutions.de",
      "telephone": "+49-XXX-XXXXXXX",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "DE",
        "addressRegion": "Deutschland"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 51.1657,
        "longitude": 10.4515
      },
      "openingHours": "Mo-Fr 09:00-18:00",
      "priceRange": "‚Ç¨‚Ç¨",
      "currenciesAccepted": "EUR",
      "paymentAccepted": "Cash, Credit Card, Bank Transfer",
      "areaServed": "DE"
    }
    </script>
    
    <!-- Base styles for black background -->
    <style>
      /* Base Styles */
      * {
        box-sizing: border-box;
      }
      
      html, body {
        margin: 0;
        padding: 0;
        min-height: 100vh;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background-color: #000000;
        color: #ffffff;
      }
      
      #root {
        min-height: 100vh;
        width: 100%;
      }
    </style>

    <!-- n8n Chat CSS -->
    <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />
    
    <!-- Google Consent Mode (MUSS vor Google Analytics stehen) -->
    <script data-cookieconsent="ignore">
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("consent", "default", {
        ad_personalization: "denied",
        ad_storage: "denied",
        ad_user_data: "denied",
        analytics_storage: "denied",
        functionality_storage: "denied",
        personalization_storage: "denied",
        security_storage: "granted",
        wait_for_update: 500,
      });
      gtag("set", "ads_data_redaction", true);
      gtag("set", "url_passthrough", false);
    </script>
    
    <!-- Cookiebot Event Listener f√ºr Debugging -->
    <script>
      window.addEventListener('CookiebotOnLoad', function (e) {
        console.log('Cookiebot Banner geladen!');
        console.log('Cookiebot Objekt:', window.Cookiebot);
        console.log('Consent Status:', window.Cookiebot.consent);
      });
      
      window.addEventListener('CookiebotOnConsentReady', function (e) {
        console.log('Cookiebot Consent bereit!');
        console.log('Consent Method:', window.Cookiebot.consent.method);
        console.log('Has Response:', window.Cookiebot.hasResponse);
      });
      
      // Fallback: Pr√ºfe nach 3 Sekunden, ob Cookiebot geladen ist
      setTimeout(function() {
        if (window.Cookiebot) {
          console.log('Cookiebot ist verf√ºgbar');
          
          // Pr√ºfe ob bereits Consent gegeben wurde
          if (window.Cookiebot.hasResponse) {
            console.log('Bereits Consent gegeben - Dialog wird nicht angezeigt');
            // L√∂sche alle Cookiebot Cookies und zeige Dialog neu
            document.cookie = "CookieConsent=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
            document.cookie = "CookieConsentBulkTicket=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
            document.cookie = "CookieConsentBulkTicket-part000=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
            
            // Zeige Dialog nach kurzer Verz√∂gerung
            setTimeout(function() {
              if (window.Cookiebot.show) {
                window.Cookiebot.show();
                console.log('Cookiebot Dialog manuell ge√∂ffnet');
              }
            }, 1000);
          } else {
            console.log('Kein Consent gegeben - Dialog sollte angezeigt werden');
            // Erzwinge Dialog-Anzeige
            if (window.Cookiebot.show) {
              window.Cookiebot.show();
              console.log('Cookiebot Dialog manuell ge√∂ffnet');
            }
          }
        } else {
          console.log('Cookiebot ist NICHT verf√ºgbar - Problem beim Laden');
        }
      }, 3000);
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
             gtag('config', 'GA_MEASUREMENT_ID', {
         page_title: 'Martic Solutions - KI-Automatisierung f√ºr Unternehmen',
         page_location: 'https://marticsolutions.de',
         custom_map: {
           'custom_parameter_1': 'business_type',
           'custom_parameter_2': 'service_interest'
         }
       });
    </script>

    <!-- n8n Chat Script -->
    <script type="module">
      import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';

      createChat({
        webhookUrl: 'https://n8n.marticsolutions.de/webhook/d552c7ae-632d-4308-823f-04b26ae22544/chat',
        webhookConfig: {
          method: 'POST',
          headers: {}
        },
        target: '#n8n-chat',
        mode: 'window',
        chatInputKey: 'chatInput',
        chatSessionKey: 'sessionId',
        loadPreviousSession: true,
        metadata: {
          website: 'marticsolutions.de',
          source: 'landingpage'
        },
        showWelcomeScreen: true,
        defaultLanguage: 'de',
        initialMessages: [
          'Hallo! üëã',
          'Ich stehe dir f√ºr alle Fragen zur Seite. Wie kann ich dir heute helfen?'
        ],
                 i18n: {
           de: {
             title: 'Martic Solutions Chat Support',
             subtitle: 'Stelle gerne alle deine Fragen. Ich helfe dir gerne weiter!',
             footer: '',
             getStarted: 'Neue Unterhaltung',
             inputPlaceholder: 'Wie kann ich dir helfen?',
           },
           en: {
             title: 'Martic Solutions Chat üí¨',
             subtitle: 'Ask us about automation. We\'re here to help!',
             footer: '',
             getStarted: 'New Conversation',
             inputPlaceholder: 'How can I help you?',
           }
         },
                 enableStreaming: false,
        allowFileUploads: false
      });
    </script>
    
    <!-- Chat Widget Container -->
    <div id="n8n-chat"></div>
    

    
    <!-- Erweiterte Cookiebot Debug-Funktionen -->
    <script>
      function debugCookiebot() {
        console.log('=== COOKIEBOT DEBUG START ===');
        console.log('window.Cookiebot:', window.Cookiebot);
        console.log('typeof window.Cookiebot:', typeof window.Cookiebot);
        
        if (window.Cookiebot) {
          console.log('Cookiebot Objekt gefunden!');
          console.log('Cookiebot Methoden:', Object.getOwnPropertyNames(window.Cookiebot));
          console.log('Cookiebot.show existiert:', typeof window.Cookiebot.show);
          console.log('Cookiebot.consent:', window.Cookiebot.consent);
          console.log('Cookiebot.hasResponse:', window.Cookiebot.hasResponse);
          
          if (typeof window.Cookiebot.show === 'function') {
            try {
              window.Cookiebot.show();
              console.log('‚úÖ Cookiebot.show() erfolgreich aufgerufen');
            } catch (error) {
              console.error('‚ùå Fehler beim Aufruf von Cookiebot.show():', error);
            }
          } else {
            console.log('‚ùå Cookiebot.show ist keine Funktion');
          }
        } else {
          console.log('‚ùå Cookiebot Objekt nicht gefunden');
          console.log('Versuche Cookiebot neu zu laden...');
          
          // Versuche den Script neu zu laden
          var script = document.createElement('script');
          script.id = 'CookiebotRetry';
          script.src = 'https://consent.cookiebot.com/uc.js?cbid=5672dad7-bf17-49bd-b39f-9946569f7734';
          script.setAttribute('data-cbid', '5672dad7-bf17-49bd-b39f-9946569f7734');
          script.setAttribute('data-blockingmode', 'auto');
          script.setAttribute('data-culture', 'DE');
          script.type = 'text/javascript';
          
          script.onload = function() {
            console.log('‚úÖ Cookiebot Script neu geladen');
            setTimeout(function() {
              if (window.Cookiebot && window.Cookiebot.show) {
                window.Cookiebot.show();
                console.log('‚úÖ Dialog nach Neuladen ge√∂ffnet');
              }
            }, 2000);
          };
          
          script.onerror = function() {
            console.error('‚ùå Fehler beim Laden des Cookiebot Scripts');
          };
          
          document.head.appendChild(script);
        }
        
        console.log('=== COOKIEBOT DEBUG ENDE ===');
      }
      
      // Pr√ºfe alle 2 Sekunden, ob Cookiebot geladen ist
      setInterval(function() {
        if (window.Cookiebot) {
          console.log('üîÑ Cookiebot Status Check:', {
            loaded: true,
            hasShow: typeof window.Cookiebot.show === 'function',
            hasResponse: window.Cookiebot.hasResponse,
            consent: window.Cookiebot.consent
          });
        } else {
          console.log('üîÑ Cookiebot nicht geladen');
        }
      }, 2000);
    </script>
  </body>
</html>
